function loadSelectHour() {
    $("#timePicker").html("");
    var str="";
    str+='<option disabled selected value="0">Chọn giờ</option>';
    var dateVal=$("#inputDate").val(),
    today=new Date,
    dd=today.getDate(),
    mm=today.getMonth()+1,
    yyyy=today.getFullYear();
    10>dd&&(dd="0"+dd),
    10>mm&&(mm="0"+mm);
    var stoday=dd+"/"+mm+"/"+yyyy;
    if(CheckIfIsMobile()&&(stoday=yyyy+"-"+mm+"-"+dd), dateVal==stoday) {
        var hh=today.getHours(),
        m=today.getMinutes();
        m>45?(hh+=1, m=0): m>15?(hh=hh, m=30): m=0, 7>=hh&&0==m?(str+='<option value="08:00 - 09:00">08:00 - 09:00</option>', str+='<option value="09:00 - 10:00">09:00 - 10:00</option>', str+='<option value="10:00 - 11:00">10:00 - 11:00</option>', str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 7>=hh&&30==m?(str+='<option value="08:00 - 09:00">08:00 - 09:00</option>', str+='<option value="09:00 - 10:00">09:00 - 10:00</option>', str+='<option value="10:00 - 11:00">10:00 - 11:00</option>', str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 8>=hh&&0==m?(str+='<option value="09:00 - 10:00">09:00 - 10:00</option>', str+='<option value="10:00 - 11:00">10:00 - 11:00</option>', str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 8>=hh&&30==m?(str+='<option value="09:00 - 10:00">09:00 - 10:00</option>', str+='<option value="10:00 - 11:00">10:00 - 11:00</option>', str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 9>=hh&&0==m?(str+='<option value="10:00 - 11:00">10:00 - 11:00</option>', str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 9>=hh&&30==m?(str+='<option value="10:00 - 11:00">10:00 - 11:00</option>', str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 10>=hh&&0==m?(str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 10>=hh&&30==m?(str+='<option value="11:00 - 12:00">11:00 - 12:00</option>', str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 11>=hh&&0==m?(str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 11>=hh&&30==m?(str+='<option value="12:00 - 13:00">12:00 - 13:00</option>', str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 12>=hh&&0==m?(str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 12>=hh&&30==m?(str+='<option value="13:00 - 14:00">13:00 - 14:00</option>', str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 13>=hh&&0==m?(str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 13>=hh&&30==m?(str+='<option value="14:00 - 15:00">14:00 - 15:00</option>', str+='<option value="15:00 - 16:00">15:00 - 16:00</option>'): 14>=hh&&0==m?str+='<option value="15:00 - 16:00">15:00 - 16:00</option>': 14>=hh&&30==m?str+='<option value="15:00 - 16:00">15:00 - 16:00</option>': 15>=hh&&0==m&&(str+='<option value="15:00 - 16:00">15:00 - 16:00</option>')
    }
    else str+='<option value="08:00 - 09:00">08:00 - 09:00</option>',
    str+='<option value="09:00 - 10:00">09:00 - 10:00</option>',
    str+='<option value="10:00 - 11:00">10:00 - 11:00</option>',
    str+='<option value="11:00 - 12:00">11:00 - 12:00</option>',
    str+='<option value="12:00 - 13:00">12:00 - 13:00</option>',
    str+='<option value="13:00 - 14:00">13:00 - 14:00</option>',
    str+='<option value="14:00 - 15:00">14:00 - 15:00</option>',
    str+='<option value="15:00 - 16:00">15:00 - 16:00</option>';
    $("#timePicker").html(str),
    $("#timePicker").material_select()
}

$(document).ready(function() {
    if($(".dealername").text($("#hdDeAName").val()), $("#tab_testdrive_01 .chkCats").on("click", function() {
        var t=$("#tab_testdrive_01 .chkCats:checked").length;
        t>3&&$(this).prop("checked", "")
    }
    ), $(".testdrive_tabs .next_btn_0").on("click", function() {
        $(".testdrive_tabs .tab").find("a").removeClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $(".testdrive_tabs .tabs_lg li:nth-of-type(1) a").click()
    }
    ), $(".testdrive_tabs .next_btn_1").on("click", function() {
        $(".testdrive_tabs .tab").find("a").removeClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $(".testdrive_tabs .tabs_lg li:nth-of-type(2) a").click()
    }
    ), $(".testdrive_tabs li:not(.disabled).tab a").on("click", function() {
        $(".testdrive_tabs .tab").find("a").removeClass("active"), $(".testdrive_tabs .content-tab").css("display", "none")
    }
    ), $(".testdrive_tabs .next_btn_2").on("click", function() {
        $(".testdrive_tabs .tab").find("a").removeClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $(".testdrive_tabs .tabs_lg li:nth-of-type(3) a").click()
    }
    ), $(".testdrive_tabs .next_btn_3").on("click", function() {
        $(".testdrive_tabs .tab").find("a").removeClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $(".testdrive_tabs .tabs_lg li:nth-of-type(4) a").click()
    }
    ), CheckIfIsMobile()) {
        var today=new Date, dd=today.getDate(), mm=today.getMonth()+1, yyyy=today.getFullYear(), hh=today.getHours(), m=today.getMinutes();
        (15==hh&&m>15||hh>15)&&(dd+=1), 10>dd&&(dd="0"+dd), 10>mm&&(mm="0"+mm), today=yyyy+"-"+mm+"-"+dd, $("#setinputDate").html("");
        var str="";
        str+='<input id="inputDate" type="date" name="date" min="'+today+'" class="input datepicker1 input_cld">', $("#setinputDate").html(str)
    }
    else {
        $("#setinputDate").html("");
        var str="";
        str+='<input id="inputDate" type="text" class="input datepicker1 input_cld">', str+='<label for="inputDate"></label>', $("#setinputDate").html(str);
        var today=new Date, dd=today.getDate(), mm=today.getMonth(), yyyy=today.getFullYear(), hh=today.getHours(), m=today.getMinutes();
        (15==hh&&m>15||hh>15)&&(dd+=1), $(".datepicker1").pickadate( {
            labelMonthNext:"Tháng kế", labelMonthPrev:"Tháng trước", labelMonthSelect:"Chọn tháng", labelYearSelect:"Chọn năm", monthsFull:["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"], monthsShort:["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"], weekdaysFull:["Chủ nhật", "Thứ hai", "Thứ ba", "Thứ tư", "Thứ năm", "Thứ sáu", "Thứ bảy"], weekdaysShort:["CN", "T-2", "T-3", "T-4", "T-5", "T-6", "T-7"], weekdaysLetter:["CN", "T2", "T3", "T4", "T5", "T6", "T7"], today:"Nay", clear:"Xóa", close:"Đóng", format:"dd/mm/yyyy", onSet:function(e) {
                e.select&&this.close()
            }
            , min:new Date(yyyy, mm, dd)
        }
        )
    }
    loadSelectHour(), $(".datepicker1").on("change", function() {
        loadSelectHour(), $(".confirm").click()
    }
    ), $("#timePicker").on("change", function() {
        $("#spTime").text($(this).val()), $(".confirm").click()
    }
    ), $("#ddlAdrress").on("change", function() {
        var add=$(this).find(":selected").data("add");
        $("#lbAdd").text(add)
    }
    ), $(".step1 input[type='checkbox']").on("click", function() {
        var c=$(this).is(":checked"), id=$(this).data("idcat"), style=c===!0?"": "none";
        $(".step2").find("li[data-id='"+id+"']").css("display", style), $(".step3").find("li[data-id='"+id+"']").css("display", style), $(".step4").find("li[data-id='"+id+"']").css("display", style), $(".step2").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step3").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step4").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c)
    }
    ), $(".step2 input[type='checkbox']").on("click", function() {
        var c=$(this).is(":checked"), id=$(this).data("idcat"), style=c===!0?"": "none";
        $(".step2").find("li[data-id='"+id+"']").css("display", style), $(".step3").find("li[data-id='"+id+"']").css("display", style), $(".step4").find("li[data-id='"+id+"']").css("display", style), $(".step1").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step3").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step4").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c)
    }
    ), $(".step3 input[type='checkbox']").on("click", function() {
        var c=$(this).is(":checked"), id=$(this).data("idcat"), style=c===!0?"": "none";
        $(".step2").find("li[data-id='"+id+"']").css("display", style), $(".step3").find("li[data-id='"+id+"']").css("display", style), $(".step4").find("li[data-id='"+id+"']").css("display", style), $(".step1").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step2").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step4").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c)
    }
    ), $(".step4 input[type='checkbox']").on("click", function() {
        var c=$(this).is(":checked"), id=$(this).data("idcat"), style=c===!0?"": "none";
        $(".step2").find("li[data-id='"+id+"']").css("display", style), $(".step3").find("li[data-id='"+id+"']").css("display", style), $(".step4").find("li[data-id='"+id+"']").css("display", style), $(".step1").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step2").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c), $(".step3").find("li[data-id='"+id+"']").find("input[data-idcat='"+id+"']").prop("checked", c)
    }
    ), $("#inputEmail").on("blur", function() {
        $("#spEmail").text($(this).val())
    }
    ), $(".testdrive_tabs .tab").tabs("select_tab", "tab_testdrive_01"), $("#tab_testdrive_01").css("display", "block"), $(".complete2").on("click", function() {
        if(CheckValue01TestDrive()) {
            $(".testdrive_tabs .tab").find("a").removeClass("active"), $("a[href*='tab_testdrive_02']").addClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $("#tab_testdrive_02").css("display", "block");
            var branchId=getSessionBranchId();
            if(null!=branchId&&branchId>0&&null==$("#ddlAdrress").val()) {
                $("#ddlAdrress option").removeAttr("selected");
                var value=$("#ddlAdrress option[data-branchid='"+branchId+"']").val();
                $("#ddlAdrress").val(value), $("#ddlAdrress").material_select("destroy"), $("#ddlAdrress").material_select()
            }
        }
    }
    ), $(".testdrive_tabs .next_btn_1").on("click", function() {
        CheckValue01TestDrive()&&($(".testdrive_tabs .tab").find("a").removeClass("active"), $("a[href*='tab_testdrive_02']").addClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $("#tab_testdrive_02").css("display", "block"))
    }
    ), $(".complete3").on("click", function() {
        CheckValue01TestDrive()&&CheckValue02TestDrive()&&($(".testdrive_tabs .tab").find("a").removeClass("active"), $("a[href*='tab_testdrive_03']").addClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $("#tab_testdrive_03").css("display", "block"))
    }
    ), $(".testdrive_tabs .next_btn_2").on("click", function() {
        CheckValue01TestDrive()&&CheckValue02TestDrive()&&($(".testdrive_tabs .tab").find("a").removeClass("active"), $("a[href*='tab_testdrive_03']").addClass("active"), $(".testdrive_tabs .content-tab").css("display", "none"), $("#tab_testdrive_03").css("display", "block"))
    }
    ), $(".complete").on("click", function() {
        CheckValue01TestDrive()&&CheckValue02TestDrive()&&CheckValue03TestDrive()&&$("#testDriveInTools").submit()
    }
    ), $(".btnSend").on("click", function() {
        CheckValue01TestDrive()&&CheckValue02TestDrive()&&CheckValue03TestDrive()&&$("#testDriveInTools").submit()
    }
    )
}

);
